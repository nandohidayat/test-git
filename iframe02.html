<!DOCTYPE html>
<html>
<head>
    <title>IFrame02</title>
</head>
<body>
<iframe height="600" id="step-up-iframe" name="step-up-iframe" width="400"></iframe>
<form action="https://centinelapistag.cardinalcommerce.com/V2/Cruise/StepUp" id="step-up-form" method="post"
      target="step-up-iframe">
    <input name="JWT" type="hidden"
           value="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3Y2QwMjUyOS0yNTk1LTQ4MmUtYmQ5Ni0zOWU5ZDAxYjg0NTgiLCJpYXQiOjE2NzQ5Nzk0NjMsImlzcyI6IjVkZDgzYmYwMGU0MjNkMTQ5OGRjYmFjYSIsImV4cCI6MTY3NDk4MzA2MywiT3JnVW5pdElkIjoiNjNkMTVkMzgzNjBlMjgzNzY3Njk0MGU4IiwiUGF5bG9hZCI6eyJBQ1NVcmwiOiJodHRwczovL21lcmNoYW50YWNzc3RhZy5jYXJkaW5hbGNvbW1lcmNlLmNvbS9NZXJjaGFudEFDU1dlYi9wYXJlcS5qc3A_dmFhPWImZ29sZD1BQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUEiLCJQYXlsb2FkIjoiZU5wVlVkdHVnekFNZmM5WG9INEFJWUd5VXJtUnVxRzFWS1BxdWs2YjlrWlRyeUNOVzRDVi9mMENsRjN5NUhOc3h6N0hjSWdWb3YrRXNsRW9JTVNxaXM1b0pLZkZwSFhLZEIyZWoydGI3WXI0NFNaL0thMkpnTjF5ajZXQVQxUlZrbWVDbVpiSmdZNlE2QytVaktPc0ZoREo4amJZQ3NmMU9IT0JYaUdCRkZYZ0M5dGhEdWNPdDRZSGRLQUpaRkdLSXJoZkdRZXNhcUE5SkNEekpxdlZsN0JkWFRvQ0FvMzZFSEZkRjlXYzBzdmxZaWJ2WjFQbUtkQXVRWUQrYnJOcnVxalNJdHZrSk5EZnQ4Zm5lUHZHTjBGb2J4N2xLZzYzM0h1VmgrVUNhRmRCNEJUVktMakZiWXR4ejdCbWM4dVpjNjIxNXdsRWFiZUZDUHk5d1pqcGVWcmh3QkFvdWxuTEFUSFdwZjR5V2t5akZHWnlWRE1pQXRnV2VZYTZSby81aWJXTTMrWHYxcDJ4c3RaV3VXdzZzd2RuZTl5M0o5b1dQbVZEZjlKN1JMc2VlcjBidlo1WVIvOU8vdzFkM2FZOSIsIlRyYW5zYWN0aW9uSWQiOiJ4NHFtSE1nYkgzclBwaEw3b1dxMCJ9LCJPYmplY3RpZnlQYXlsb2FkIjp0cnVlLCJSZXR1cm5VcmwiOiJodHRwOi8vbG9jYWxob3N0OjgwODAifQ.NTAVRJog8FGnFl9Zji6wG_6wgW22uI-8Auw-gsiYGr8"/>
    <input name="MD" type="hidden" value="optionally_include_custom_data_that_will_be_returned_as_is"/>
</form>
</body>
<script>
    window.onload = function () {
        var stepUpForm = document.querySelector('#step-up-form');
        if (stepUpForm) {// Step-Up form exists
            stepUpForm.submit();
        }
    }

    window.addEventListener("message", function (event) {
        if (event.origin === "https://centinelapistag.cardinalcommerce.com") {
            console.log(event.data);
        }
    }, false);

    window.addEventListener("message", (event) => {
        if (event.data === "3ds-success") {
            const IFrame = document.getElementById("step-up-iframe");
            IFrame.remove();
        }
    });
</script>
</html>